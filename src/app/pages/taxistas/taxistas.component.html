<div class="row">
  <base-card #card_listagem class="col-md-12">
    <div header>Taxistas</div>
    <div body>
      <div class="container actions">
        <nb-actions size="medium" class="row">
            <nb-action class="col">
              <input type="text" nbInput fullWidth shape="semi-round"class="inputSearch" placeholder="Pesquisar...">
              <br/>
              <br/>
            </nb-action>
            <nb-action class="col-auto" icon="search-outline"></nb-action>
            <nb-action nbButton class="col-auto" icon="plus-square-outline" (click)="criar()"></nb-action>
        </nb-actions>
      </div>
      <nb-list *ngIf="!((usuario != null && usuario != undefined) || criarNovo)" class="own-scroll"
        nbInfiniteList
        [threshold]="500">
        <nb-list-item *ngFor="let taxista of taxistas">
          <div class="container">
            <div class="row h4 nome">
              <div class="col-8 nome_taxista" (click)="visualizar(taxista)">
                {{taxista && taxista.usuario ? taxista.usuario.nome : "Desconhecido" }}
              </div>
              <div class="col-4">
                <nb-actions class="actions_taxista" size="small">
                  <nb-action icon="trash-2-outline" (click)="deletar(taxista)"></nb-action>
                  <nb-action [disabled]="!podeEditar" icon="edit-2-outline" (click)="editar(taxista)"></nb-action>
                </nb-actions>
              </div>
            </div>
            <div class="row sumario">
              <div class="col propriedade">
                <div class="nome_propriedade">RG</div>
                <div class="valor_propriedade">{{ taxista ? taxista.usuario.rg : "N/I" }}</div>
              </div>
              <div class="col propriedade">
                <div class="nome_propriedade">CPF</div>
                <div class="valor_propriedade">{{ taxista ? taxista.usuario.cpf : "N/I" }}</div>
              </div>
              <div class="col propriedade">
                <div class="nome_propriedade">TELEFONE</div>
                <div class="valor_propriedade">{{ taxista ? taxista.usuario.telefone : "N/I" }}</div>
              </div>
            </div>
          </div>
        </nb-list-item>
      </nb-list>
      <br/>
      <br/>
      <nb-alert status="info" *ngIf="taxistas.length <= 0 || taxistas == null || taxistas == undefined">
        Sem registros para exibir
      </nb-alert>
    </div>
  </base-card>


  <base-card #card_detalhes *ngIf="(usuario != null && usuario != undefined) || criarNovo" class="col-md-12">
    <div header>Detalhes</div>
    <div class="body container" body>
      <nb-actions size="large" >
        <nb-action [disabled]="!podeConfirmar" icon="checkmark-outline" (click)="confirmarEdicao()" ng-show="modo !== Modo.mdVisualizacao"></nb-action>
        <nb-action [disabled]="!podeCancelar" icon="close-outline" (click)="cancelarEdicao()" ng-show="modo !== Modo.mdVisualizacao"></nb-action>
      </nb-actions>

      <nb-card>
        <nb-card-header>Informações pessoais</nb-card-header>
        <nb-card-body>
          <ngx-form-usuario #formUsuario
            [desabilitarControles]="desabilitarControles"
            [usuario]="usuario">
          </ngx-form-usuario>
        </nb-card-body>
      </nb-card>

      <nb-card>
        <nb-card-header>Endereço</nb-card-header>
        <nb-card-body>
          <ngx-form-endereco #formEndereco
            [desabilitarControles]="desabilitarControles"
            [endereco]="endereco">
          </ngx-form-endereco>
        </nb-card-body>
      </nb-card>
      
      <nb-card>
        <nb-card-header>Credenciais</nb-card-header>
        <nb-card-body>
          <ngx-form-credenciais #formCredenciais
            [desabilitarControles]="desabilitarControles"
            [validarSenhaAnterior]="false"
            [credenciais]="credenciais">
          </ngx-form-credenciais>
        </nb-card-body>
      </nb-card>

      <nb-card>
        <nb-card-header>Foto</nb-card-header>
        <nb-card-body>
          <div class="row">
          <ngx-form-foto #formFoto
            [alturaImagem]="200"
            [desabilitarControles]="desabilitarControles"
            [foto]="foto">
          </ngx-form-foto>
        </div>
        </nb-card-body>
      </nb-card>

    </div>
    <div footer>
      <span>* (campo obrigatório)</span>
    </div>
  </base-card>
</div>



